webpackJsonp([5],{LUHo:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a("mvHQ"),i=a.n(e),o={name:"profile",data:function(){return{userInfo:{}}},mounted:function(){this.userInfo=JSON.parse(localStorage.getItem("userInfo")),this.userInfo.mealCost=this.Filters.shrinkMoneyUnit(this.userInfo.mealCost)},methods:{updateProfile:function(){var s=this,t=this.Filters.expendMoneyUnit(this.userInfo.mealCost);this.$http({url:this.apiUrls.getUserIdPrefix+this.apiUrls.updateProfile,method:"put",data:{id:this.userInfo.id,username:this.userInfo.username,sickname:this.userInfo.sickname,mealCost:t}}).then(function(){$.notify({title:"修改成功",message:"数据成功更新至后台",icon:"fa fa-check"},{type:"success"}),s.$emit("updateProfile",s.userInfo);var a=s.userInfo;a.mealCost=t,s.$store.commit("USER_STATUS",i()(a)),s.userInfo.mealCost=s.Filters.shrinkMoneyUnit(s.userInfo.mealCost)}).catch(function(){$.notify({title:"修改失败",message:"请检测网络状况",icon:"fa fa-close"},{type:"danger"})})},changeFace:function(){$.notify({title:"待开发",message:"努力补加新功能中！谢谢",icon:"fa fa-child fa-lg"},{type:"info"})}}},l={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[s._m(0),s._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body",attrs:{id:"card-body"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-4 col-xlg-3 col-md-5"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-block"},[a("center",{staticClass:"m-t-30"},[a("img",{staticClass:"img-circle",attrs:{src:s.userInfo.face,width:"150"}}),s._v(" "),a("h4",[s._v(" ")]),s._v(" "),a("h4",{staticClass:"card-title m-t-10"},[s._v(s._s(s.userInfo.sickname))]),s._v(" "),a("h6",{staticClass:"card-subtitle"},[s._v(s._s(s.userInfo.identity))]),s._v(" "),a("button",{staticClass:"btn btn-info",on:{click:s.changeFace}},[s._v("修改头像")])])],1)])]),s._v(" "),a("div",{staticClass:"col-lg-8 col-xlg-9 col-md-7"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-block"},[a("form",{staticClass:"form-horizontal form-material"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-12"},[s._v("昵称")]),s._v(" "),a("div",{staticClass:"col-md-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.userInfo.sickname,expression:"userInfo.sickname"}],staticClass:"form-control form-control-line",attrs:{type:"text",placeholder:"我的昵称"},domProps:{value:s.userInfo.sickname},on:{input:function(t){t.target.composing||s.$set(s.userInfo,"sickname",t.target.value)}}})])]),s._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-12",attrs:{for:"example-email"}},[s._v("餐费设置")]),s._v(" "),a("div",{staticClass:"col-md-12"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.userInfo.mealCost,expression:"userInfo.mealCost"}],staticClass:"form-control form-control-line",attrs:{type:"number",placeholder:""},domProps:{value:s.userInfo.mealCost},on:{input:function(t){t.target.composing||s.$set(s.userInfo,"mealCost",t.target.value)}}})])]),s._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-12"},[s._v("用户名："+s._s(s.userInfo.username))])]),s._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-12"},[s._v("身份："+s._s(s.userInfo.identity))])]),s._v(" "),a("div",{staticClass:"form-group"},[a("label",{staticClass:"col-md-12"},[s._v("注册时间："+s._s(s._f("timeFormat")(s.userInfo.created,"Y/MM/D")))])]),s._v(" "),a("div",{staticClass:"form-group"},[a("div",{staticClass:"col-sm-12"},[a("a",{staticClass:"btn btn-success",attrs:{href:"javascript:void(0)"},on:{click:s.updateProfile}},[s._v("确定修改")])])])])])])])])])])])])])},staticRenderFns:[function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"page-title"},[t("div",[t("h1",[t("i",{staticClass:"fa fa-laptop"}),this._v("个人中心")])]),this._v(" "),t("div",[t("ul",{staticClass:"breadcrumb"},[t("li",[t("i",{staticClass:"fa fa-user fa-lg"})]),this._v(" "),t("li",[t("a",{attrs:{href:"#/profile"}},[this._v("个人中心")])])])])])}]};var r=a("VU/8")(o,l,!1,function(s){a("hieM")},null,null);t.default=r.exports},hieM:function(s,t){}});
//# sourceMappingURL=5.d14611376e5fb3b44ce6.js.map