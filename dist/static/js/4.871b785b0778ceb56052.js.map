{"version":3,"sources":["webpack:///src/components/views/customeItem/SalaryDetail.vue","webpack:///./src/components/views/customeItem/SalaryDetail.vue?1f60","webpack:///./src/components/views/customeItem/SalaryDetail.vue","webpack:///src/components/views/Salary.vue","webpack:///./src/components/views/Salary.vue?abea","webpack:///./src/components/views/Salary.vue"],"names":["SalaryDetail","name","props","title","String","detailData","Object","methods","customeItem_SalaryDetail","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","id","tabindex","role","aria-labelledby","aria-hidden","type","data-dismiss","_v","_s","staticStyle","text-align","_m","_l","item","index","key","productName","process","mealTime","_f","price","number","created","colspan","totalMealTime","mealTotalCost","workTotal","salary","staticRenderFns","Salary","components","salary-detail","__webpack_require__","normalizeComponent","ssrContext","barLoad","Boolean","data","mealCost","currentShow","startDate","endDate","isLoading","multipleSort","pageIndex","pageSize","total","tableConfig","tableData","watch","val","$nextTick","export","utils","exportTable","staffName","Filters","timeFormat","_this","tmp","setTimeout","mounted","userInfo","JSON","parse","localStorage","getItem","laydate","elem","search","convertDateFromString","$","getTableData","caculateSalary","arr","self","each","salaryRecords","i","v","exportData","showDetail","modal","swal","showConfirmButton","showCancelButton","params","page","rows","ajax","url","apiUrls","baseUrl","getUserIdPrefix","salaryRecord","xhrFields","withCredentials","success","res","newRes","datas","timer","error","notify","message","icon","pageChange","pageSizeChange","customCompFunc","views_Salary","on","click","staffNum","department","href","$event","page-size","layout","page-change","page-size-change","placeholder","Salary_Component","Salary_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.871b785b0778ceb56052.js","sourcesContent":["<template>\n<div class=\"modal fade\" id=\"detailModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\" aria-hidden=\"true\">\n  <div class=\"modal-dialog\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\n          &times;\n        </button>\n        <h4 class=\"modal-title\" id=\"myModalLabel\">\n          {{title}}的工作记录单\n        </h4>\n      </div>\n      <div class=\"modal-body\" style=\"text-align:center;\">\n        <table id=\"salaryTable\" class=\"table table-hover table-bordered table-responsive\">\n          <thead> \n            <tr>\n              <th>品名</th>\n              <th>工序</th>\n              <th>用餐次数</th>\n              <th>价格</th>\n              <th>数量</th>\n              <th>记录时间</th>\n              <th>合计</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(item,index) in detailData.salaryRecords\" :key=\"index\">\n              <td>{{item.productName}}</td>\n              <td>{{item.process}}</td>\n              <td>{{item.mealTime}}</td>\n              <td>¥{{item.price|shrinkMoneyUnit}}</td>\n              <td>{{item.number}}</td>\n              <td>{{item.created|timeFormat}}</td>\n              <td>¥{{(item.number * item.price)|shrinkMoneyUnit}}</td>\n            </tr>\n            <tr>\n              <td colspan=7></td>\n            </tr>\n            <tr>\n              <td colspan=2>总用餐次数：</td>\n              <td>{{detailData.totalMealTime}}</td>\n              <td>伙食费：</td>\n              <td>¥ {{detailData.mealTotalCost|shrinkMoneyUnit}}</td>\n              <td>总合计：</td>\n              <td>¥ {{detailData.workTotal|shrinkMoneyUnit}}</td>\n            </tr>\n            <tr></tr>\n            <tr>\n               <td colspan=2>总工资：</td>\n               <td colspan=5>¥ {{detailData.salary|shrinkMoneyUnit}}({{detailData.workTotal|shrinkMoneyUnit}} - {{detailData.mealTotalCost|shrinkMoneyUnit}})</td> \n            </tr>\n          </tbody>\n        </table>\n        \n      </div>\n      \n    </div>\n  </div>\n </div>\n\n</template>\n<script>\n\texport default{\n\t\tname: 'salary-detail',\n\t\tprops: {\n      title: String,\n\t\t\tdetailData: Object,  \n\t\t},\n\t\tmethods: {\n\n\t\t}\n\t}\n</script>\n<style scope>\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/views/customeItem/SalaryDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"modal fade\",attrs:{\"id\":\"detailModal\",\"tabindex\":\"-1\",\"role\":\"dialog\",\"aria-labelledby\":\"myModalLabel\",\"aria-hidden\":\"true\"}},[_c('div',{staticClass:\"modal-dialog\"},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-hidden\":\"true\"}},[_vm._v(\"\\n          ×\\n        \")]),_vm._v(\" \"),_c('h4',{staticClass:\"modal-title\",attrs:{\"id\":\"myModalLabel\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.title)+\"的工作记录单\\n        \")])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body\",staticStyle:{\"text-align\":\"center\"}},[_c('table',{staticClass:\"table table-hover table-bordered table-responsive\",attrs:{\"id\":\"salaryTable\"}},[_vm._m(0),_vm._v(\" \"),_c('tbody',[_vm._l((_vm.detailData.salaryRecords),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.productName))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.process))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.mealTime))]),_vm._v(\" \"),_c('td',[_vm._v(\"¥\"+_vm._s(_vm._f(\"shrinkMoneyUnit\")(item.price)))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.number))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm._f(\"timeFormat\")(item.created)))]),_vm._v(\" \"),_c('td',[_vm._v(\"¥\"+_vm._s(_vm._f(\"shrinkMoneyUnit\")((item.number * item.price))))])])}),_vm._v(\" \"),_vm._m(1),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"总用餐次数：\")]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(_vm.detailData.totalMealTime))]),_vm._v(\" \"),_c('td',[_vm._v(\"伙食费：\")]),_vm._v(\" \"),_c('td',[_vm._v(\"¥ \"+_vm._s(_vm._f(\"shrinkMoneyUnit\")(_vm.detailData.mealTotalCost)))]),_vm._v(\" \"),_c('td',[_vm._v(\"总合计：\")]),_vm._v(\" \"),_c('td',[_vm._v(\"¥ \"+_vm._s(_vm._f(\"shrinkMoneyUnit\")(_vm.detailData.workTotal)))])]),_vm._v(\" \"),_c('tr'),_vm._v(\" \"),_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"总工资：\")]),_vm._v(\" \"),_c('td',{attrs:{\"colspan\":\"5\"}},[_vm._v(\"¥ \"+_vm._s(_vm._f(\"shrinkMoneyUnit\")(_vm.detailData.salary))+\"(\"+_vm._s(_vm._f(\"shrinkMoneyUnit\")(_vm.detailData.workTotal))+\" - \"+_vm._s(_vm._f(\"shrinkMoneyUnit\")(_vm.detailData.mealTotalCost))+\")\")])])],2)])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"品名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"工序\")]),_vm._v(\" \"),_c('th',[_vm._v(\"用餐次数\")]),_vm._v(\" \"),_c('th',[_vm._v(\"价格\")]),_vm._v(\" \"),_c('th',[_vm._v(\"数量\")]),_vm._v(\" \"),_c('th',[_vm._v(\"记录时间\")]),_vm._v(\" \"),_c('th',[_vm._v(\"合计\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('td',{attrs:{\"colspan\":\"7\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-67e6ff9d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/customeItem/SalaryDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-67e6ff9d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./SalaryDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SalaryDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./SalaryDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-67e6ff9d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./SalaryDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/customeItem/SalaryDetail.vue\n// module id = null\n// module chunks = ","<template>\n\t<div>\n\t\t<div class=\"page-title\">\n\t\t  <div>\n\t\t    <h1><i class=\"fa fa-laptop\"></i>工资结算</h1>\n\t\t    <p>选择对应员工和对应时间断生成工作记录表</p>\n\t\t  </div>\n\t\t  <div>\n\t\t    <ul class=\"breadcrumb\">\n\t\t      <li><i class=\"fa fa-calculator fa-lg\"></i></li>\n\t\t      <li><a href=\"#/salary\">工资清算</a></li>\n\t\t    </ul>\n\t\t  </div>\n\t\t</div>\n\n\n\t\t<div class=\"row\">\n\n\t\t  <div class=\"col-md-12\">\n\t\t    <div class=\"card\">\n\t\t      <div class=\"card-body\">\n\t\t        <div class=\"row\">\n\t\t          <form class=\"form-inline pull-right\">\n\t\t            <div class=\"form-group\">\n\t\t              <label class=\"control-label\">起始时间</label>\n\t\t              <input id=\"startDate\" class=\"form-control\" type=\"text\" placeholder=\"起始时间\">\n\t\t            </div>\n\t\t            <div class=\"form-group\">\n\t\t              <label class=\"control-label\">截止时间</label>\n\t\t              <input id=\"endDate\" class=\"form-control\" type=\"text\" placeholder=\"截止时间\">\n\t\t            </div>\n\t\t            <div class=\"form-group\">\n\t\t              <button @click=\"search\" class=\"btn btn-primary icon-btn\" type=\"button\"><i class=\"fa fa-fw fa-lg fa-check-circle\"></i>查询生成</button>\n\t\t            </div>\n\t\t          </form>\n\t\t        </div>  \n\t\t        <br id=\"tmpBr\">\n\t\t        <!-- 表格-->\n\t\t        <div class=\"row\">\n\t\t          <table class=\"table table-hover table-bordered table-responsive\" id=\"workTable\">\n\t\t            <thead> \n\t\t              <tr>\n\t\t                <th>员工编号</th>\n\t\t                <th>员工姓名</th>\n\t\t                <th>部门</th>\n\t\t                <th>工作详情</th>\n\t\t                <th>记录文件</th>\n\t\t                <th>工资</th>\n\t\t              </tr>\n\t\t            </thead>\n\t\t            <tbody>\n\t\t            \t<tr v-for=\"(item,index) in tableConfig.tableData\">\n\t\t            \t\t<td>{{item.staffNum}}</td>\n\t\t            \t\t<td>{{item.staffName}}</td>\n\t\t            \t\t<td>{{item.department}}</td>\n\t\t            \t\t<td><a @click=\"showDetail(index)\" href=\"javascript:void(0)\">查看工资详情</a></td>\n\t\t            \t\t<td><a @click=\"exportData(index)\" href=\"javascript:void(0)\">导出文件</a></td>\n\t\t            \t\t<td>¥ {{item.salary|shrinkMoneyUnit}}</td>\n\n\t\t            \t</tr>\n\t\t            \t\n\t\t            </tbody>\n\t\t          </table>\n\t\t        </div>\n\t\t        <!-- 分页-->\n\t\t        <div class=\"row v-pagin\">\n\t\t          <v-pagination \n\t\t              @page-change=\"pageChange\" \n\t\t              @page-size-change=\"pageSizeChange\" \n\t\t              :total=\"total\" :page-size=\"pageSize\" \n\t\t              :layout=\"['total', 'prev', 'pager', 'next', 'sizer', 'jumper']\">\n\t\t          </v-pagination>\n\t\t        </div>\n\t\t        \n\t\t      </div>\n\t\t    </div>\n\t\t  </div>\n\t\t</div> \n\t\t<salary-detail :detailData=\"currentShow\" :title=\"currentShow.staffName\"></salary-detail>\n\t</div>\n</template>\n<script>\n\timport SalaryDetail from './customeItem/SalaryDetail'\n\texport default {\n\t\tname:'salary',\n\t\tcomponents: {\n\t\t\t'salary-detail': SalaryDetail,\n\t\t},\n\t\tprops:{\n\t\t\tbarLoad: Boolean,\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tmealCost: '',\n\t\t\t\tcurrentShow: {},\n\t\t\t\tstartDate:'',\n\t\t\t\tendDate:'',\n\t\t\t\tisLoading:false,\n\t\t\t\tmultipleSort:false,\n\t\t\t\tpageIndex: 1,\n\t\t\t\tpageSize: 10,\n\t\t\t\ttotal: 0,\n\t\t\t\ttableConfig: {\n\t\t\t\t  tableData: [],\n\t\t\t\t  \n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\twatch: {\n\t\t\tcurrentShow(val) {\n\t\t\t\tthis.$nextTick(function(){\n\t\t\t\t\tif(val.export)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.utils.exportTable('#salaryTable',this.currentShow.staffName+this.Filters.timeFormat(this.startDate,'Y/MM/D')+'-'+this.Filters.timeFormat(this.endDate,'Y/MM/D'))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tbarLoad() {\n\t\t\t\tlet tmp = this.tableConfig.tableData;\n\t\t\t\tthis.isLoading = true\n\t\t\t\tthis.tableConfig.tableData=[]\n\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\tthis.tableConfig.tableData = tmp\n\t\t\t\t\tthis.isLoading = false\n\t\t\t\t},400)\n\t\t\t},\n\t\t},\n\t\tmounted() {\n\t\t\tlet userInfo = JSON.parse(localStorage.getItem(\"userInfo\"))\n\t\t\tthis.mealCost = userInfo.mealCost\n\t\t\tlaydate.render({\n\t\t\t  elem: '#startDate' ,\n\t\t    \n\t\t\t});\n\t\t\tlaydate.render({\n\t\t\t  elem: '#endDate' //指定元素\n\t\t\t});\n\t\t},\n\t\tmethods: {\n\t\t\tsearch() {\n\t\t\t\tthis.startDate = this.utils.convertDateFromString($(\"#startDate\").val())\n\t\t\t\tthis.endDate = this.utils.convertDateFromString($(\"#endDate\").val())\n\t\t\t\tthis.getTableData()\n\t\t\t},\n\n\t\t\tcaculateSalary(arr) {\n\t\t\t\tlet self = this\n\t\t\t\t$.each(arr,function(index,val){\n\t\t\t\t\tlet workTotal = 0\n\t\t\t\t\tlet mealTotalCost = 0\n\t\t\t\t\tlet totalMealTime = 0\n\t\t\t\t\t$.each(val.salaryRecords, function(i,v){\n\t\t\t\t\t\ttotalMealTime += v.mealTime\n\t\t\t\t\t\tmealTotalCost += (self.mealCost*v.mealTime)\n\t\t\t\t\t\tworkTotal += (v.number*v.price)\n\t\t\t\t\t})\n\t\t\t\t\tarr[index].totalMealTime = totalMealTime\n\t\t\t\t\tarr[index].workTotal = workTotal\n\t\t\t\t\tarr[index].mealTotalCost = mealTotalCost\n\t\t\t\t\tarr[index].salary = (workTotal - mealTotalCost)\n\t\t\t\t})\n\t\t\t\treturn arr\n\n\t\t\t},\n\n\t\t\texportData(index){\n\t\t\t\tthis.currentShow = this.tableConfig.tableData[index]\n\t\t\t\tthis.currentShow.export = true\n\t\t\t},\n\n\t\t\tshowDetail(index) {\n\t\t\t\tthis.currentShow.export = false\n\t\t\t\tthis.currentShow = this.tableConfig.tableData[index]\n\t\t\t\t$(\"#detailModal\").modal('show')\n\t\t\t},\n\n\t\t\tgetTableData() {\n\t\t\t\tlet self = this\n\t\t\t\tif(!this.startDate || !this.startDate){\n\t\t\t\t\t$.notify({\n       \t    \t   \t       title: \"提示\",\n       \t    \t   \t       message: \"请选择日期\",\n       \t    \t   \t       icon: 'fa fa-close' \n       \t    \t   \t   },{\n       \t    \t   \t       type: \"danger\"\n       \t    \t   \t});\n       \t    \t   \treturn;\n\t\t\t\t}\n                this.isLoading = true\n                swal({\n                    title: \"正在查询并计算工资中...\",\n                    showConfirmButton: false,\n                    showCancelButton: false,\n                });\n                let params = {\n                        page: this.pageIndex,\n                        rows: this.pageSize,    \n                        startDate: this.startDate,\n                        endDate: this.endDate,            \n                    }\n                $.ajax({\n                    url: this.apiUrls.baseUrl + this.apiUrls.getUserIdPrefix() + this.apiUrls.salaryRecord,\n\t\t\t\t\ttype:\"GET\",\n\t\t\t\t\tdata: params,\n\t\t\t\t\txhrFields: {\n\t\t\t\t\t \n\t\t\t\t\t\twithCredentials: true // 这里设置了withCredentials\n\t\t\t\t\t \n\t\t\t\t\t},\n\t\t\t\t\tsuccess: function(res){\n\t\t\t\t\t\tlet newRes = self.caculateSalary(res.datas)\n\t\t\t\t\t\tself.tableConfig.tableData = newRes\n\t\t\t\t\t\tself.total = res.total\n\t\t\t\t\t\tself.isLoading = false\n\t\t\t\t\t\t swal({\n\t\t                    title: \"正在查询并计算工资中...\",\n\t\t                    showConfirmButton: false,\n\t\t                    showCancelButton: false,\n\t\t                    timer:10\n\t\t                });\n\t\t\t\t\t},\n\t\t\t\t\terror: function(){\n\t\t\t\t\t\tself.isLoading = false\n\t\t\t\t\t\tswal({\n\t\t                    title: \"正在查询并计算工资中...\",\n\t\t                    showConfirmButton: false,\n\t\t                    showCancelButton: false,\n\t\t                    timer:10\n\t\t                });\n\t\t\t\t\t\t$.notify({\n\t\t\t\t\t\t       title: \"数据加载失败\",\n\t\t\t\t\t\t       message: \"请检查网络情况或刷新重试\",\n\t\t\t\t\t\t       icon: 'fa fa-close' \n\t\t\t\t\t\t   },{\n\t\t\t\t\t\t       type: \"danger\"\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n                }) \n                \n             },\n\n\t\t\tpageChange(pageIndex) {\n\t\t\t\tthis.pageIndex = pageIndex;\n\t\t\t\tthis.getTableData();\n\t\t\t},\n\t\t\tpageSizeChange(pageSize) {\n\t\t\t\tthis.pageIndex = 1;\n\t\t\t\tthis.pageSize = pageSize;\n\t\t\t\tthis.getTableData();\n\t\t\t},\n\t\t\tcustomCompFunc(params){\n\n\t\t\t  \n\n\t\t\t     \n\t\t\t}\n\t\t}\n\n\t}\n\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/views/Salary.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"row\"},[_c('form',{staticClass:\"form-inline pull-right\"},[_vm._m(1),_vm._v(\" \"),_vm._m(2),_vm._v(\" \"),_c('div',{staticClass:\"form-group\"},[_c('button',{staticClass:\"btn btn-primary icon-btn\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.search}},[_c('i',{staticClass:\"fa fa-fw fa-lg fa-check-circle\"}),_vm._v(\"查询生成\")])])])]),_vm._v(\" \"),_c('br',{attrs:{\"id\":\"tmpBr\"}}),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('table',{staticClass:\"table table-hover table-bordered table-responsive\",attrs:{\"id\":\"workTable\"}},[_vm._m(3),_vm._v(\" \"),_c('tbody',_vm._l((_vm.tableConfig.tableData),function(item,index){return _c('tr',[_c('td',[_vm._v(_vm._s(item.staffNum))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.staffName))]),_vm._v(\" \"),_c('td',[_vm._v(_vm._s(item.department))]),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.showDetail(index)}}},[_vm._v(\"查看工资详情\")])]),_vm._v(\" \"),_c('td',[_c('a',{attrs:{\"href\":\"javascript:void(0)\"},on:{\"click\":function($event){return _vm.exportData(index)}}},[_vm._v(\"导出文件\")])]),_vm._v(\" \"),_c('td',[_vm._v(\"¥ \"+_vm._s(_vm._f(\"shrinkMoneyUnit\")(item.salary)))])])}),0)])]),_vm._v(\" \"),_c('div',{staticClass:\"row v-pagin\"},[_c('v-pagination',{attrs:{\"total\":_vm.total,\"page-size\":_vm.pageSize,\"layout\":['total', 'prev', 'pager', 'next', 'sizer', 'jumper']},on:{\"page-change\":_vm.pageChange,\"page-size-change\":_vm.pageSizeChange}})],1)])])])]),_vm._v(\" \"),_c('salary-detail',{attrs:{\"detailData\":_vm.currentShow,\"title\":_vm.currentShow.staffName}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-title\"},[_c('div',[_c('h1',[_c('i',{staticClass:\"fa fa-laptop\"}),_vm._v(\"工资结算\")]),_vm._v(\" \"),_c('p',[_vm._v(\"选择对应员工和对应时间断生成工作记录表\")])]),_vm._v(\" \"),_c('div',[_c('ul',{staticClass:\"breadcrumb\"},[_c('li',[_c('i',{staticClass:\"fa fa-calculator fa-lg\"})]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"#/salary\"}},[_vm._v(\"工资清算\")])])])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"起始时间\")]),_vm._v(\" \"),_c('input',{staticClass:\"form-control\",attrs:{\"id\":\"startDate\",\"type\":\"text\",\"placeholder\":\"起始时间\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"control-label\"},[_vm._v(\"截止时间\")]),_vm._v(\" \"),_c('input',{staticClass:\"form-control\",attrs:{\"id\":\"endDate\",\"type\":\"text\",\"placeholder\":\"截止时间\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',[_vm._v(\"员工编号\")]),_vm._v(\" \"),_c('th',[_vm._v(\"员工姓名\")]),_vm._v(\" \"),_c('th',[_vm._v(\"部门\")]),_vm._v(\" \"),_c('th',[_vm._v(\"工作详情\")]),_vm._v(\" \"),_c('th',[_vm._v(\"记录文件\")]),_vm._v(\" \"),_c('th',[_vm._v(\"工资\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-20292852\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/views/Salary.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Salary.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Salary.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-20292852\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Salary.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/views/Salary.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}